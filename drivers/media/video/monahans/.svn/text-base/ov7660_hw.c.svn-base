/*
   Copyright (C) 2005, Intel Corporation.
   Copyright (C) 2006, Marvell International Ltd.

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 */

/*
 * Abstract:
 *	Contains all hardware related functions for OV7660
 *
 * Notes:
 *	Only valid for processor code named Monahans.
 */
#include <linux/init.h>
#include <linux/module.h>
#include "camera.h"
#include "ov7660_hw.h"
#include <linux/delay.h>

#include <asm/arch/mfp.h>
#include <asm/arch/mhn_gpio.h>
#include <asm/hardware.h>
#include <asm/string.h>

/*
 * Attention: This is platform related!
 */

/*
 * Register Settings
 */
const static u8 gRAW_CIF_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x00, 0x00,
	0x10, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x25,
	0x04, 0x00,
	0x0c, 0x04,
	0x18, 0x7c,
	0x17, 0x24,
	0x32, 0xbf,
	0x1a, 0x4a,
	0x19, 0x02,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3c, 0x28,
	0x3d, 0x19,
	0x40, 0xc1,
	0x69, 0x80,
	0x6b, 0x0d,
	0xa1, 0x08,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x14, 0x2e,
	0x25, 0x58,
	0x24, 0x68,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRAW_QCIF_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x00, 0x00,
	0x10, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x0d,
	0x04, 0x04,
	0x0c, 0x0c,
	0x18, 0x7c,
	0x17, 0x24,
	0x32, 0xbf,
	0x1a, 0x4a,
	0x19, 0x02,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3c, 0x28,
	0x3d, 0x19,
	0x40, 0xc1,
	0x69, 0x80,
	0x6b, 0x0d,
	0xa1, 0x08,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x14, 0x2e,
	0x25, 0x58,
	0x24, 0x68,
	0x2a, 0x30,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRAW_QQCIF_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x00, 0x00,
	0x10, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x0d,
	0x04, 0x24,
	0x0c, 0x0c,
	0x18, 0x7c,
	0x17, 0x24,
	0x32, 0xbf,
	0x1a, 0x4a,
	0x19, 0x02,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3c, 0x28,
	0x3d, 0x19,
	0x40, 0xc1,
	0x69, 0x80,
	0x6b, 0x0f,
	0xa1, 0x08,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x14, 0x2e,
	0x25, 0x58,
	0x24, 0x68,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRAW_QQVGA_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x83,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x00, 0x00,
	0x10, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x15,
	0x04, 0x24,
	0x0c, 0x0c,
	0x18, 0x4a,
	0x17, 0x22,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3c, 0x68,
	0x3d, 0x19,
	0x40, 0xc1,
	0x69, 0x80,
	0x6b, 0x0a,
	0xa1, 0x08,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x14, 0x4e,
	0x25, 0x58,
	0x24, 0x68,
	0x92, 0xd8,
	0x93, 0x01,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRAW_QVGA_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x83,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x00, 0x00,
	0x10, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x15,
	0x04, 0x00,
	0x0c, 0x04,
	0x18, 0x4a,
	0x17, 0x22,
	0x32, 0x89,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x05,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3c, 0x68,
	0x3d, 0x19,
	0x40, 0xc1,
	0x69, 0x80,
	0x6b, 0x0a,
	0xa1, 0x08,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x14, 0x2e,
	0x25, 0x58,
	0x24, 0x68,
	0x92, 0x48,
	0x93, 0x00,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRAW_VGA_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x9e, 0x3f,
	0x3b, 0x02,
	0x13, 0xf2,
	0x00, 0x00,
	0x10, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x05,
	0x04, 0x00,
	0x0c, 0x00,
	0x18, 0x61,
	0x17, 0x11,
	0x32, 0x89,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3c, 0x68,
	0x3d, 0x19,
	0x40, 0xc1,
	0x69, 0x80,
	0x6b, 0x0a,
	0xa1, 0x08,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x14, 0x2e,
	0x25, 0x58,
	0x24, 0x68,
	0x2a, 0x10,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_CIF_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x48,
	0x93, 0x00,
	0x9d, 0x31,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x24,
	0x04, 0x00,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x12,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xd1,
	0x41, 0x20,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0xae,
	0x50, 0x26,
	0x51, 0x08,
	0x52, 0x1a,
	0x53, 0xa9,
	0x54, 0x0f,
	0x55, 0x05,
	0x56, 0x46,
	0x57, 0xcb,
	0x58, 0x77,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_CIF_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x82,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x21,
	0x9e, 0x1b,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x24,
	0x04, 0x00,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x12,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x3c,
	0x40, 0xd1,
	0x41, 0x00,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x6c,
	0x50, 0x02,
	0x51, 0x12,
	0x52, 0x09,
	0x53, 0x6a,
	0x54, 0x0d,
	0x55, 0x12,
	0x56, 0x0d,
	0x57, 0x7b,
	0x58, 0x40,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_QCIF_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x80,
	0x92, 0x48,
	0x93, 0x06,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x0c,
	0x04, 0x04,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x4a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xd1,
	0x41, 0x20,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0xae,
	0x50, 0x26,
	0x51, 0x08,
	0x52, 0x1a,
	0x53, 0xa9,
	0x54, 0x0f,
	0x55, 0x05,
	0x56, 0x46,
	0x57, 0xcb,
	0x58, 0x77,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_QCIF_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x80,
	0x92, 0x68,
	0x93, 0x06,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x0c,
	0x04, 0x04,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x4a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x3c,
	0x40, 0xd1,
	0x41, 0x00,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x6c,
	0x50, 0x02,
	0x51, 0x12,
	0x52, 0x09,
	0x53, 0x6a,
	0x54, 0x0d,
	0x55, 0x12,
	0x56, 0x0d,
	0x57, 0x7b,
	0x58, 0x40,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_QQCIF_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x80,
	0x92, 0x68,
	0x93, 0x01,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x0c,
	0x04, 0x24,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x4a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xd1,
	0x41, 0x20,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0xae,
	0x50, 0x26,
	0x51, 0x08,
	0x52, 0x1a,
	0x53, 0xa9,
	0x54, 0x0f,
	0x55, 0x05,
	0x56, 0x46,
	0x57, 0xcb,
	0x58, 0x77,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_QQCIF_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x80,
	0x92, 0x68,
	0x93, 0x06,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x0c,
	0x04, 0x24,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x4a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x3c,
	0x40, 0xd1,
	0x41, 0x00,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x6c,
	0x50, 0x02,
	0x51, 0x12,
	0x52, 0x09,
	0x53, 0x6a,
	0x54, 0x0d,
	0x55, 0x12,
	0x56, 0x0d,
	0x57, 0x7b,
	0x58, 0x40,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_QQVGA_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0xd8,
	0x93, 0x01,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x14,
	0x04, 0x24,
	0x18, 0x4b,
	0x17, 0x23,
	0x32, 0x3f,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xd1,
	0x41, 0x20,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0xae,
	0x50, 0x26,
	0x51, 0x08,
	0x52, 0x1a,
	0x53, 0xa9,
	0x54, 0x0f,
	0x55, 0x05,
	0x56, 0x46,
	0x57, 0xcb,
	0x58, 0x77,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_QQVGA_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x82,
	0x92, 0xd8,
	0x93, 0x03,
	0x9d, 0x41,
	0x9e, 0x36,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x14,
	0x04, 0x24,
	0x18, 0x4b,
	0x17, 0x23,
	0x32, 0x3f,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x3c,
	0x40, 0xd1,
	0x41, 0x00,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x6c,
	0x50, 0x02,
	0x51, 0x12,
	0x52, 0x09,
	0x53, 0x6a,
	0x54, 0x0d,
	0x55, 0x12,
	0x56, 0x0d,
	0x57, 0x7b,
	0x58, 0x40,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_QVGA_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x83,
	0x92, 0x48,
	0x93, 0x00,
	0x9d, 0x31,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x14,
	0x04, 0x00,
	0x18, 0x4b,
	0x17, 0x23,
	0x32, 0xbf,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xd1,
	0x41, 0x20,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0xae,
	0x50, 0x26,
	0x51, 0x08,
	0x52, 0x1a,
	0x53, 0xa9,
	0x54, 0x0f,
	0x55, 0x05,
	0x56, 0x46,
	0x57, 0xcb,
	0x58, 0x77,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_QVGA_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x85,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x21,
	0x9e, 0x1b,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x14,
	0x04, 0x00,
	0x18, 0x4b,
	0x17, 0x23,
	0x32, 0xbf,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x3c,
	0x40, 0xd1,
	0x41, 0x00,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x6c,
	0x50, 0x02,
	0x51, 0x12,
	0x52, 0x09,
	0x53, 0x6a,
	0x54, 0x0d,
	0x55, 0x12,
	0x56, 0x0d,
	0x57, 0x7b,
	0x58, 0x40,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_VGA_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x4c,
	0x9e, 0x3f,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x04,
	0x04, 0x00,
	0x18, 0x00,
	0x17, 0x12,
	0x32, 0xa4,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xd1,
	0x41, 0x20,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0xae,
	0x50, 0x26,
	0x51, 0x08,
	0x52, 0x1a,
	0x53, 0xa9,
	0x54, 0x0f,
	0x55, 0x05,
	0x56, 0x46,
	0x57, 0xcb,
	0x58, 0x77,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x5c,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gRGB565_VGA_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x85,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x19,
	0x9e, 0x15,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x04,
	0x04, 0x00,
	0x18, 0x00,
	0x17, 0x12,
	0x32, 0xa4,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x00,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x3c,
	0x40, 0xd1,
	0x41, 0x00,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x6c,
	0x50, 0x02,
	0x51, 0x12,
	0x52, 0x09,
	0x53, 0x6a,
	0x54, 0x0d,
	0x55, 0x12,
	0x56, 0x0d,
	0x57, 0x7b,
	0x58, 0x40,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0xf0,
	0x6d, 0xf0,
	0x6e, 0xf0,
	0x6f, 0x70,
	0x70, 0x58,
	0x71, 0x58,
	0x72, 0x48,
	0x73, 0x48,
	0x74, 0x38,
	0x75, 0x40,
	0x76, 0x34,
	0x77, 0x34,
	0x78, 0x2e,
	0x79, 0x28,
	0x7a, 0x24,
	0x7b, 0x22,
	0x7c, 0x0f,
	0x7d, 0x1e,
	0x7e, 0x3c,
	0x7f, 0x58,
	0x80, 0x63,
	0x81, 0x6e,
	0x82, 0x77,
	0x83, 0x80,
	0x84, 0x87,
	0x85, 0x8f,
	0x86, 0x9c,
	0x87, 0xa9,
	0x88, 0xc0,
	0x89, 0xd4,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_CIF_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x00,
	0x93, 0x01,
	0x9d, 0x31,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x20,
	0x04, 0x00,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xc1,
	0x41, 0x20,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0x66,
	0x50, 0x6b,
	0x51, 0x05,
	0x52, 0x19,
	0x53, 0x40,
	0x54, 0x59,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_CIF_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x21,
	0x9e, 0x1b,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x20,
	0x04, 0x00,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x99,
	0x3f, 0x3c,
	0x40, 0xc1,
	0x41, 0x00,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x40,
	0x50, 0x43,
	0x51, 0x03,
	0x52, 0x10,
	0x53, 0x28,
	0x54, 0x38,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_QCIF_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x80,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x08,
	0x04, 0x04,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x4a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xc1,
	0x41, 0x20,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0x66,
	0x50, 0x6b,
	0x51, 0x05,
	0x52, 0x19,
	0x53, 0x40,
	0x54, 0x59,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_QCIF_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x80,
	0x92, 0x68,
	0x93, 0x06,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x08,
	0x04, 0x04,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x4a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x99,
	0x3f, 0x3c,
	0x40, 0xc1,
	0x41, 0x00,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x40,
	0x50, 0x43,
	0x51, 0x03,
	0x52, 0x10,
	0x53, 0x28,
	0x54, 0x38,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_QQCIF_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x80,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x08,
	0x04, 0x24,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x4a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xc1,
	0x41, 0x20,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0x66,
	0x50, 0x6b,
	0x51, 0x05,
	0x52, 0x19,
	0x53, 0x40,
	0x54, 0x59,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_QQCIF_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x80,
	0x92, 0x68,
	0x93, 0x06,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x08,
	0x04, 0x24,
	0x18, 0x80,
	0x17, 0x28,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x4a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x02,
	0x34, 0x00,
	0x35, 0x84,
	0x36, 0x03,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x99,
	0x3f, 0x3c,
	0x40, 0xc1,
	0x41, 0x00,
	0x6b, 0x0f,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x40,
	0x50, 0x43,
	0x51, 0x03,
	0x52, 0x10,
	0x53, 0x28,
	0x54, 0x38,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_QQVGA_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x62,
	0x9e, 0x52,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x10,
	0x04, 0x24,
	0x18, 0x4b,
	0x17, 0x23,
	0x32, 0xbf,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xc1,
	0x41, 0x20,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0x66,
	0x50, 0x6b,
	0x51, 0x05,
	0x52, 0x19,
	0x53, 0x40,
	0x54, 0x59,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_QQVGA_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0xd8,
	0x93, 0x03,
	0x9d, 0x41,
	0x9e, 0x36,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x10,
	0x04, 0x24,
	0x18, 0x4b,
	0x17, 0x23,
	0x32, 0xbf,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x99,
	0x3f, 0x3c,
	0x40, 0xc1,
	0x41, 0x00,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x40,
	0x50, 0x43,
	0x51, 0x03,
	0x52, 0x10,
	0x53, 0x28,
	0x54, 0x38,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_QVGA_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x48,
	0x93, 0x00,
	0x9d, 0x31,
	0x9e, 0x29,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x10,
	0x04, 0x00,
	0x18, 0x4b,
	0x17, 0x23,
	0x32, 0xbf,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xc1,
	0x41, 0x20,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0x66,
	0x50, 0x6b,
	0x51, 0x05,
	0x52, 0x19,
	0x53, 0x40,
	0x54, 0x59,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_QVGA_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x21,
	0x9e, 0x1b,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x10,
	0x04, 0x00,
	0x18, 0x4b,
	0x17, 0x23,
	0x32, 0xbf,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x99,
	0x3f, 0x3c,
	0x40, 0xc1,
	0x41, 0x00,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x40,
	0x50, 0x43,
	0x51, 0x03,
	0x52, 0x10,
	0x53, 0x28,
	0x54, 0x38,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_VGA_15fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x4c,
	0x9e, 0x3f,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x00,
	0x04, 0x00,
	0x18, 0x01,
	0x17, 0x13,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x90,
	0x3f, 0x29,
	0x40, 0xc1,
	0x41, 0x20,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xa0,
	0x4f, 0x66,
	0x50, 0x6b,
	0x51, 0x05,
	0x52, 0x19,
	0x53, 0x40,
	0x54, 0x59,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0x40,
	0x6d, 0x30,
	0x6e, 0x4b,
	0x6f, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3a,
	0x79, 0x2e,
	0x7a, 0x28,
	0x7b, 0x22,
	0x7c, 0x04,
	0x7d, 0x07,
	0x7e, 0x10,
	0x7f, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6c,
	0x85, 0x78,
	0x86, 0x8c,
	0x87, 0x9e,
	0x88, 0xbb,
	0x89, 0xd2,
	0x8a, 0xe6,
	0x14, 0x2e,
	0x24, 0x68,
	0x25, 0x5c,
	0x92, 0x48,
	0x93, 0x01,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 gYUV_VGA_5fps_INITIALIZE[] =
{
	0x12, 0x80,
	0x11, 0x81,
	0x92, 0x48,
	0x93, 0x01,
	0x9d, 0x19,
	0x9e, 0x15,
	0x3b, 0x02,
	0x13, 0xf2,
	0x10, 0x00,
	0x00, 0x00,
	0x01, 0x80,
	0x02, 0x80,
	0x13, 0xf7,
	0x12, 0x00,
	0x04, 0x00,
	0x18, 0x01,
	0x17, 0x13,
	0x32, 0x92,
	0x19, 0x02,
	0x1a, 0x7a,
	0x03, 0x00,
	0x0e, 0x84,
	0x0f, 0x62,
	0x15, 0x02,
	0x16, 0x02,
	0x1b, 0x01,
	0x1e, 0x01,
	0x29, 0x3c,
	0x33, 0x00,
	0x34, 0x07,
	0x35, 0x84,
	0x36, 0x00,
	0x38, 0x13,
	0x39, 0x43,
	0x3a, 0x0c,
	0x3c, 0x6c,
	0x3d, 0x99,
	0x3f, 0x3c,
	0x40, 0xc1,
	0x41, 0x00,
	0x6b, 0x0a,
	0xa1, 0xc8,
	0x69, 0x80,
	0x43, 0xf0,
	0x44, 0x10,
	0x45, 0x78,
	0x46, 0xa8,
	0x47, 0x60,
	0x48, 0x80,
	0x59, 0xba,
	0x5a, 0x9a,
	0x5b, 0x22,
	0x5c, 0xb9,
	0x5d, 0x9b,
	0x5e, 0x10,
	0x5f, 0xe0,
	0x60, 0x85,
	0x61, 0x60,
	0x9f, 0x9d,
	0xa0, 0xe0,
	0x4f, 0x40,
	0x50, 0x43,
	0x51, 0x03,
	0x52, 0x10,
	0x53, 0x28,
	0x54, 0x38,
	0x55, 0x40,
	0x56, 0x40,
	0x57, 0x40,
	0x58, 0x0d,
	0x8b, 0xcc,
	0x8c, 0xcc,
	0x8d, 0xcf,
	0x6c, 0xf0,
	0x6d, 0xf0,
	0x6e, 0xf0,
	0x6f, 0x70,
	0x70, 0x58,
	0x71, 0x58,
	0x72, 0x48,
	0x73, 0x48,
	0x74, 0x38,
	0x75, 0x40,
	0x76, 0x34,
	0x77, 0x34,
	0x78, 0x2e,
	0x79, 0x28,
	0x7a, 0x24,
	0x7b, 0x22,
	0x7c, 0x0f,
	0x7d, 0x1e,
	0x7e, 0x3c,
	0x7f, 0x58,
	0x80, 0x63,
	0x81, 0x6e,
	0x82, 0x77,
	0x83, 0x80,
	0x84, 0x87,
	0x85, 0x8f,
	0x86, 0x9c,
	0x87, 0xa9,
	0x88, 0xc0,
	0x89, 0xd4,
	0x8a, 0xe6,
	0x14, 0x4e,
	0x24, 0x68,
	0x25, 0x58,
	OV7660_REGEND, 0x00	    /* End of list delimiter */
};

const static u8 Premier_Lens[] =
{
	OV7660_AWBTH3   , 0x5C,
	OV7660_AWBTH4   , 0x6e,
	OV7660_AWBTH5   , 0x46,
	OV7660_AWBTH6   , 0x4D,
	OV7660_AWBC1    , 0x23,
	OV7660_AWBC2    , 0x41,
	OV7660_AWBC3    , 0x43,
	OV7660_AWBC4    , 0x74,
	OV7660_AWBC5    , 0x6e,

	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 LiteOn_Lens[] =
{
	OV7660_AWBTH3   , 0x58,
	OV7660_AWBTH4   , 0x6c,
	OV7660_AWBTH5   , 0x46,
	OV7660_AWBTH6   , 0x48,
	OV7660_AWBC1    , 0x23,
	OV7660_AWBC2    , 0x41,
	OV7660_AWBC3    , 0x54,
	OV7660_AWBC4    , 0x74,
	OV7660_AWBC5    , 0x5c,

	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 gSensorSlaveAddr = 0x21;
static int read_sensor_reg(const u8 subAddress, u8 *bufP);
static int write_sensor_reg(const u8 subAddress, u8 *bufP);

struct OV7660_SETTING
{
	int   format;
	int   resolution;
	const u8 *setting;
};

static struct OV7660_SETTING ov7660_setting_table[] =
{
	{OV_FORMAT_RAW8   , OV_SIZE_QQVGA, gRAW_QQVGA_INITIALIZE},
	{OV_FORMAT_RAW8   , OV_SIZE_QVGA , gRAW_QVGA_INITIALIZE},
	{OV_FORMAT_RAW8   , OV_SIZE_VGA  , gRAW_VGA_INITIALIZE},
	{OV_FORMAT_RAW8   , OV_SIZE_QQCIF, gRAW_QQCIF_INITIALIZE},
	{OV_FORMAT_RAW8   , OV_SIZE_QCIF , gRAW_QCIF_INITIALIZE},
	{OV_FORMAT_RAW8   , OV_SIZE_CIF  , gRAW_CIF_INITIALIZE},
	{OV_FORMAT_YUV_422, OV_SIZE_QQVGA, gYUV_QQVGA_15fps_INITIALIZE},
	{OV_FORMAT_YUV_422, OV_SIZE_QVGA , gYUV_QVGA_15fps_INITIALIZE},
	{OV_FORMAT_YUV_422, OV_SIZE_VGA  , gYUV_VGA_15fps_INITIALIZE},
	{OV_FORMAT_YUV_422, OV_SIZE_QQCIF, gYUV_QQCIF_15fps_INITIALIZE},
	{OV_FORMAT_YUV_422, OV_SIZE_QCIF , gYUV_QCIF_15fps_INITIALIZE},
	{OV_FORMAT_YUV_422, OV_SIZE_CIF  , gYUV_CIF_15fps_INITIALIZE},
	{OV_FORMAT_RGB_565, OV_SIZE_QQVGA, gRGB565_QQVGA_15fps_INITIALIZE},
	{OV_FORMAT_RGB_565, OV_SIZE_QVGA , gRGB565_QVGA_15fps_INITIALIZE},
	{OV_FORMAT_RGB_565, OV_SIZE_VGA  , gRGB565_VGA_15fps_INITIALIZE},
	{OV_FORMAT_RGB_565, OV_SIZE_QQCIF, gRGB565_QQCIF_15fps_INITIALIZE},
	{OV_FORMAT_RGB_565, OV_SIZE_QCIF , gRGB565_QCIF_15fps_INITIALIZE},
	{OV_FORMAT_RGB_565, OV_SIZE_CIF  , gRGB565_CIF_15fps_INITIALIZE},
	{0, 0, 0}
} ;

/*
 *  Private/helper api
 */
#ifdef DEBUG_PARAM_CHECK
static int get_reg_value(u8 *regP, u8 regAddr, u8 *regValueP)
{
	unsigned int index = 0;
	u8 curReg = 0;

	while (curReg < OV7660_REGEND) {
		curReg = regP[index << 1];
		if (curReg == regAddr) {
			*regValueP = regP[(index << 1) + 1];
			return 0;
		}
		index ++;
	}

	return -EIO;

}

static int set_reg_value(u8 *regP, u8 regAddr, u8 regValue)
{
	unsigned int index = 0;
	u8 curReg = 0;

	while (curReg < OV7660_REGEND) {
		curReg = regP[index << 1];
		if (curReg == regAddr) {
			regP[(index << 1) + 1] = regValue;
			return 0;
		}
		index ++;
	}

	return -EIO;

}
#endif

/*
 * Sensor read/write
 */
static int rmw_sensor_reg(const u8 subAddress,
		u8 *bufP, u8 andMask, u8 orMask)
{
	int status;
	status = read_sensor_reg(subAddress, bufP);
	if (!status) {
		*bufP &= andMask;
		*bufP |= orMask;
		status = write_sensor_reg(subAddress, bufP);
	}
	return status;
}

int ov7660hw_read_sensor_reg(const u8 subAddress, u8 *bufP)
{
	return read_sensor_reg(subAddress, bufP);
}

int ov7660hw_write_sensor_reg(const u8 subAddress, u8 *bufP)
{
	return write_sensor_reg(subAddress, bufP);
}

int ov7660hw_set_regs(const u8 *regP)
{
	u32	curReg = 0;
	int	status = 0;

	/* The list is a register number followed by the value */
	while (regP[curReg << 1] < OV7660_REGEND) {
		u8 regVal = regP[(curReg << 1) + 1];

		status = (write_sensor_reg(regP[curReg << 1], &regVal) == 0) ?
			0 : -EIO;

		if (curReg == 0)
			ov7660hw_wait(5);

		curReg++;
	}

	return status;
}

int ov7660hw_read_all_regs(u8 *bufP, u32 numRegs)
{
	u32	curReg;

	for (curReg = 0; curReg < numRegs; curReg++, bufP++)
		read_sensor_reg((u8)curReg, bufP);


	return 0;
}

static void sensor_power_on(void)
{
	mhn_gpio_set_direction(MFP_CIF_LO_PWDN_GPI0, GPIO_DIR_OUT);
	mhn_gpio_set_level(MFP_CIF_LO_PWDN_GPI0, GPIO_LEVEL_LOW);
}

static void sensor_power_off(void)
{
	mhn_gpio_set_level(MFP_CIF_LO_PWDN_GPI0, GPIO_LEVEL_HIGH);
	mhn_gpio_set_direction(MFP_CIF_LO_PWDN_GPI0, GPIO_DIR_IN);
}

/*
 * Power & Reset
 */
void ov7660hw_power_down(u8 powerMode)
{
	/* OV7660 PWRDWN, 0 = NORMAL, 1=POWER DOWN */
	if (powerMode == CAMERA_POWER_OFF)
		sensor_power_off();
	else
		sensor_power_on();

	mdelay(100);
}

void ov7660hw_reset()
{
}

void ov7660hw_wait(int ms)
{
	mdelay(ms);
}

/*
 * Settings
 */
int ov7660hw_version_revision(u8 * pCmRevision, u8 *pSensorRevision)
{
	read_sensor_reg(OV7660_PID, pCmRevision);
	read_sensor_reg(OV7660_VER, pSensorRevision);
	return 0;
}

void ov7660hw_set_hsync()
{
	u8	val;

	/* Makes HREF become HSYNC */
	read_sensor_reg(OV7660_COM10, &val);
	val |= 0x40;
	write_sensor_reg(OV7660_COM10, &val);
}

void ov7660hw_auto_function_on()
{
	u8 val;
	read_sensor_reg(OV7660_COM8, &val);
	val |= 0x07;	/* don't disturb AWB */
	write_sensor_reg(OV7660_COM8, &val);
}

void ov7660hw_auto_function_off()
{
	u8 val;
	read_sensor_reg(OV7660_COM8, &val);
	val &= ~0x07;	/* don't disturb AWB */
	write_sensor_reg(OV7660_COM8, &val);
}

/*
 * Viewfinder, still
 */
int ov7660hw_viewfinder_on()
{
	u8	com3;

	read_sensor_reg(OV7660_COM3, &com3);
	com3 &= ~0x01;
	write_sensor_reg(OV7660_COM3, &com3);

	return OV_ERR_NONE;
}


int ov7660hw_viewfinder_off()
{
	u8	com3;

	read_sensor_reg(OV7660_COM3, &com3);
	com3 |= 0x01;
	write_sensor_reg(OV7660_COM3, &com3);

	return OV_ERR_NONE;
}


int ov7660hw_halt_video_output()
{
	u8	com3;

	/* Set the camera to only output 1 frame */
	read_sensor_reg(OV7660_COM3, &com3);
	com3 |= 1;
	write_sensor_reg(OV7660_COM3, &com3);

	return OV_ERR_NONE;
}

int ov7660hw_resumeto_full_output_mode()
{
	u8	mode;

	/* Output still frames continuously
	 * Turn off single capture mode COM3.
	 */
	rmw_sensor_reg(OV7660_COM3, (&mode), ((u8) ~1), 0);
	return OV_ERR_NONE;
}

int ov7660hw_get_single_image()
{
	u8	mode;

	rmw_sensor_reg(OV7660_COM3, &mode, (u8) ~1, 1);
	return OV_ERR_NONE;
}

#define MIN(x, y) ((x < y) ? x : y)
#define MAX(x, y) ((x > y) ? x : y)

/*
 * Format
 */
int ov7660hw_set_format(u32 captureSizeFormat, u32 colorFormat, u32 mode)
{

	int	status;
	u8	*regsP;
	const u8	*defaultDataP;
	struct OV7660_SETTING  *ov7660_setting;

	defaultDataP  = NULL;
	for (ov7660_setting = ov7660_setting_table;
		ov7660_setting->format != 0;ov7660_setting++) {
		if ((colorFormat == ov7660_setting->format) &&
			(captureSizeFormat == ov7660_setting->resolution)) {
			defaultDataP = ov7660_setting->setting;
			break;
		}
	}

	if (defaultDataP == NULL)
		return -EPERM;

	/* Get the pointer to the basic setting.
	 * The pointer must be freed after exiting.
	 */
	regsP = (u8 *) defaultDataP;

	/* Blast the entire parameter tree into the part */
	status = ov7660hw_set_regs(regsP);

	return 0;
}

/*
 * Contrast
 */
const static u8 ContrastLowestSettings[] = {
	0x6C, 0x80,
	0x6D, 0xa0,
	0x6E, 0x78,
	0x6F, 0x50,
	0x70, 0x48,
	0x71, 0x40,
	0x72, 0x48,
	0x73, 0x40,
	0x74, 0x40,
	0x75, 0x40,
	0x76, 0x40,
	0x77, 0x40,
	0x78, 0x3e,
	0x79, 0x3c,
	0x7A, 0x3c,
	0x7B, 0x28,
	0x7C, 0x8,
	0x7D, 0x12,
	0x7E, 0x21,
	0x7F, 0x35,
	0x80, 0x3e,
	0x81, 0x46,
	0x82, 0x4f,
	0x83, 0x57,
	0x84, 0x5f,
	0x85, 0x67,
	0x86, 0x77,
	0x87, 0x87,
	0x88, 0xa6,
	0x89, 0xc4,
	0x8A, 0xe2,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 ContrastLowSettings[] = {
	0x6C, 0x70,
	0x6D, 0x80,
	0x6E, 0x40,
	0x6F, 0x54,
	0x70, 0x58,
	0x71, 0x60,
	0x72, 0x60,
	0x73, 0x60,
	0x74, 0x50,
	0x75, 0x58,
	0x76, 0x44,
	0x77, 0x3c,
	0x78, 0x30,
	0x79, 0x28,
	0x7A, 0x22,
	0x7B, 0x44,
	0x7C, 0x7,
	0x7D, 0xf,
	0x7E, 0x17,
	0x7F, 0x2c,
	0x80, 0x37,
	0x81, 0x43,
	0x82, 0x4f,
	0x83, 0x5b,
	0x84, 0x65,
	0x85, 0x70,
	0x86, 0x81,
	0x87, 0x90,
	0x88, 0xa8,
	0x89, 0xbc,
	0x8A, 0xcd,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 ContrastMiddleSettings[] = {
	0x6C, 0x40,
	0x6D, 0x30,
	0x6E, 0x4B,
	0x6F, 0x60,
	0x70, 0x70,
	0x71, 0x70,
	0x72, 0x70,
	0x73, 0x70,
	0x74, 0x60,
	0x75, 0x60,
	0x76, 0x50,
	0x77, 0x48,
	0x78, 0x3A,
	0x79, 0x2E,
	0x7A, 0x28,
	0x7B, 0x22,
	0x7C, 0x4,
	0x7D, 0x7,
	0x7E, 0x10,
	0x7F, 0x28,
	0x80, 0x36,
	0x81, 0x44,
	0x82, 0x52,
	0x83, 0x60,
	0x84, 0x6C,
	0x85, 0x78,
	0x86, 0x8C,
	0x87, 0x9E,
	0x88, 0xBB,
	0x89, 0xD2,
	0x8A, 0xE6,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 ContrastHighSettings[] = {
	0x6c, 0x10,
	0x6d, 0x10,
	0x6e, 0x18,
	0x6f, 0x5c,
	0x70, 0x90,
	0x71, 0x90,
	0x72, 0x90,
	0x73, 0x90,
	0x74, 0x80,
	0x75, 0x80,
	0x76, 0x60,
	0x77, 0x5c,
	0x78, 0x44,
	0x79, 0x24,
	0x7a, 0x1a,
	0x7b, 0x10,
	0x7c, 0x1,
	0x7d, 0x2,
	0x7e, 0x5,
	0x7f, 0x1c,
	0x80, 0x2e,
	0x81, 0x40,
	0x82, 0x52,
	0x83, 0x64,
	0x84, 0x74,
	0x85, 0x84,
	0x86, 0x9c,
	0x87, 0xb3,
	0x88, 0xd5,
	0x89, 0xe7,
	0x8a, 0xf4,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 ContrastHighestSettings[] = {
	0x6c, 0x20,
	0x6d, 0x40,
	0x6e, 0x10,
	0x6f, 0x38,
	0x70, 0x80,
	0x71, 0xe0,
	0x72, 0xd0,
	0x73, 0xe8,
	0x74, 0xa0,
	0x75, 0x80,
	0x76, 0x80,
	0x77, 0x54,
	0x78, 0x30,
	0x79, 0x22,
	0x7a, 0x8,
	0x7b, 0x1,
	0x7c, 0x2,
	0x7d, 0x6,
	0x7e, 0x8,
	0x7f, 0x16,
	0x80, 0x26,
	0x81, 0x42,
	0x82, 0x5c,
	0x83, 0x79,
	0x84, 0x8d,
	0x85, 0x9d,
	0x86, 0xbd,
	0x87, 0xd2,
	0x88, 0xea,
	0x89, 0xfb,
	0x8a, 0xff,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

int ov7660hw_set_contrast(u32 value)
{
	const u8 *regP;

	regP = NULL;
	switch (value) {
		case SENSOR_CONTRAST_LOWEST:
			regP = ContrastLowestSettings;
			break;
		case SENSOR_CONTRAST_LOW:
			regP = ContrastLowSettings;
			break;
		case SENSOR_CONTRAST_MIDDLE:
			regP = ContrastMiddleSettings;
			break;
		case SENSOR_CONTRAST_HIGH:
			regP = ContrastHighSettings;
			break;
		case SENSOR_CONTRAST_HIGHEST:
			regP = ContrastHighestSettings;
			break;
		default:
			regP = ContrastMiddleSettings;
			break;
	}

	/* set hw */
	if (regP)
		ov7660hw_set_regs(regP);
	return 0;
}

/*
 * Exposure
 */
const static u8 ExposureSettings[] = {
	0x40, 0x30, 0x81, /* EV-2 */
	0x58, 0x48, 0x91, /* EV-1 */
	0x88, 0x7c, 0x93, /* EV0 */
	0xa0, 0x90, 0xb4, /* EV+1 */
	0xc0, 0xb0, 0xd6, /* EV+2 */
};

int ov7660hw_set_exposure(u32 value)
{
	u8 aew, aeb, vpt;
	int index = -1;

	switch (value) {
		case SENSOR_EXPOSURE_LOWEST:
			index = 0;
			break;
		case SENSOR_EXPOSURE_LOW:
			index = 3;
			break;
		case SENSOR_EXPOSURE_MIDDLE:
			index = 6;
			break;
		case SENSOR_EXPOSURE_HIGH:
			index = 9;
			break;
		case SENSOR_EXPOSURE_HIGHEST:
			index = 12;
			break;
		default:
			break;
	}

	aew = aeb = vpt = 0;

	if (index != -1) {
		aew = ExposureSettings[index];
		aeb = ExposureSettings[index + 1];
		vpt  = ExposureSettings[index + 2];
	}

	/* set hw */
	if (aew || aeb || vpt) {
		ov7660hw_write_sensor_reg(0x24, &aew);
		ov7660hw_write_sensor_reg(0x25, &aeb);
		ov7660hw_write_sensor_reg(0x26, &vpt);
	}

	return 0;
}

/*
 * Auto White Balance
 */
const static u8 AWBAuto[] = {
	0x13, 0xad,
	0x01, 0x80,
	0x02, 0x80,
	0x60, 0x14,
	0x5f, 0x05,
	0x13, 0xaf,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 AWBFluorescent[] = {
	0x13, 0xad,
	0x01, 0x6c,
	0x02, 0x2e,
	0x5f, 0x05,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 AWBOutdoor[] = {
	0x13, 0xad,
	0x01, 0x44,
	0x02, 0x44,
	0x5f, 0x05,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};

const static u8 AWBIncandescent[] = {
	0x13, 0xad,
	0x01, 0x6c,
	0x02, 0x20,
	0x5f, 0x05,
	OV7660_REGEND, 	0x00		/* End of list delimiter */
};


int ov7660hw_set_white_balance(u32 value)
{
	const u8 *regP;

	regP = NULL;
	switch (value) {
		case SENSOR_WHITEBALANCE_AUTO:		/* Auto */
			regP = AWBAuto;
			break;
		case SENSOR_WHITEBALANCE_INCANDESCENT:	/* Incandescent */
			regP = AWBIncandescent;
			break;
		case SENSOR_WHITEBALANCE_SUNNY:		/* Sunny */
			regP = AWBOutdoor;
			break;
		case SENSOR_WHITEBALANCE_FLUORESCENT:	/* Fluorescent */
			regP = AWBFluorescent;
			break;
		default:
			break;
	}

	/* set hw */
	if (regP) {
		ov7660hw_set_regs(regP);
	}
	return 0;
}

/*
 * OV7660 I2C Client Driver
 */
#include <linux/i2c.h>
static int i2c_ov7660_attach_adapter(struct i2c_adapter *adapter);
static int i2c_ov7660_detect_client(struct i2c_adapter *, int, int);
static int i2c_ov7660_detach_client(struct i2c_client *client);
#define I2C_DRIVERID_OV7660   I2C_DRIVERID_EXP1
#define	OV7660_ADDRESS	0x21

static struct i2c_driver ov7660_driver  =
{
	.owner		= THIS_MODULE,
	.name		= "ov7660",
	.id		= I2C_DRIVERID_OV7660,
	.flags		= I2C_DF_NOTIFY,
	.attach_adapter	= &i2c_ov7660_attach_adapter,
	.detach_client	= &i2c_ov7660_detach_client,
};

/* Unique ID allocation */
static struct i2c_client *g_client;
static unsigned short force[] = { ANY_I2C_BUS, OV7660_ADDRESS, I2C_CLIENT_END };
static unsigned short empty[] = { I2C_CLIENT_END };
static struct i2c_client_address_data addr_data = {
	.normal_i2c =           empty,
	.normal_i2c_range =     empty,
	.probe =                empty,
	.probe_range =          empty,
	.ignore =               empty,
	.ignore_range =         empty,
	.force =                force,
};


static int read_sensor_reg(const u8 subAddress, u8 *bufP)
{
	int err;

	if (g_client == NULL)	/*	No global client pointer?	*/
		return -1;

	err = i2c_master_send(g_client, &subAddress, 1);
	if (err != 1)
		return err;

	err = i2c_master_recv(g_client, bufP, 1);

	return err;
}

static int write_sensor_reg(const u8 subAddress, u8 *bufP)
{
	if (g_client == NULL)	/*	No global client pointer?	*/
		return -1;

	return i2c_smbus_write_byte_data(g_client, subAddress, *bufP);
}

static int i2c_ov7660_read(struct i2c_client *client, u8 reg)
{
	int err;
	unsigned char v;

	err = i2c_master_send(client, &reg, 1);
	if (err != 1)
		return err;

	err = i2c_master_recv(client, &v, 1);
	if (err != 1)
		return err;

	return v;
}

static int i2c_ov7660_attach_adapter(struct i2c_adapter *adap)
{
	return i2c_probe(adap, &addr_data, i2c_ov7660_detect_client);
}

static int i2c_ov7660_detect_client(struct i2c_adapter *adapter,
		int address, int kind)
{
	struct i2c_client *new_client;
	int err = 0;

	/* Let's see whether this adapter can support what we need.
	 * Please substitute the things you need here!
	 */
	if (!i2c_check_functionality(adapter, I2C_FUNC_SMBUS_BYTE_DATA)) {
		goto ERROR0;
	}

	/* OK. For now, we presume we have a valid client. We now create the
	 * client structure, even though we cannot fill it completely yet.
	 * But it allows us to access several i2c functions safely
	 */

	/* Note that we reserve some space for ov7660_data too. If you don't
	 * need it, remove it. We do it here to help to lessen memory
	 * fragmentation.
	 */

	new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL);

	if (!new_client)  {
		err = -ENOMEM;
		goto ERROR0;
	}

	memset(new_client, 0, sizeof(struct i2c_client));

	/* FIXME */
	new_client->addr = address;
	new_client->adapter = adapter;
	new_client->driver = &ov7660_driver;
	new_client->flags = 0;

	/* detect OV7660 */
	pxa_set_cken(CKEN_CAMERA, 1);
	mhn_mfp_set_afds(MFP_CIF_MCLK, MFP_AF0, MFP_DS04X);
	ci_set_clock(1, 1, 2600);
	sensor_power_on();
	mdelay(1);

	if ((i2c_ov7660_read(new_client, OV7660_PID) != PID_OV76XX) ||
			(i2c_ov7660_read(new_client, OV7660_VER) != PID_7660)) {
		ci_set_clock(0, 0, 2600);
		sensor_power_off();
		pxa_set_cken(CKEN_CAMERA, 0);
		goto ERROR1;
	} else {
		extern int ov7660_detected;
		ov7660_detected = 1;
		pr_info("OV7660 detected.\n");
	}
	ci_set_clock(0, 0, 2600);
	sensor_power_off();
	pxa_set_cken(CKEN_CAMERA, 0);

	g_client = new_client;

	strcpy(new_client->name, "OV7660");

	/* Tell the i2c layer a new client has arrived */
	if ((err = i2c_attach_client(new_client)))
		goto ERROR1;

	return 0;

ERROR1:
	kfree(new_client);
ERROR0:
	return err;
}

static int i2c_ov7660_detach_client(struct i2c_client *client)
{
	int err;

	/* Try to detach the client from i2c space */
	if ((err = i2c_detach_client(client))) {
		return err;
	}

	/* Frees client data too, if allocated at the same time */
	kfree(client);
	g_client = NULL;
	return 0;
}

static int __init i2c_ov7660_init(void)
{
	int ret;

	if ((ret = i2c_add_driver(&ov7660_driver))) {
		return ret;
	}

	return 0;
}

static void __exit i2c_ov7660_exit(void)
{
	i2c_del_driver(&ov7660_driver);
}

MODULE_DESCRIPTION("OV7660 I2C Client driver");
MODULE_LICENSE("GPL");

module_init(i2c_ov7660_init);
module_exit(i2c_ov7660_exit);
